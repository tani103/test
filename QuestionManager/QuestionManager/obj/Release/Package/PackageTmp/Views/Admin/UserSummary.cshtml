@model QuestionManager.Models.AdminModels.DisplayAdminSummary

<body>
    <div id="main" class="page">
        <h2>受験履歴 - @Model.CategoryName</h2>
        <br />
        <p>
            @Model.UserName さんの解答履歴を確認できます。
        </p>
        <p>
            <ul>
                @for (int j = 0; j < Model.CategoriesList.Count; j++)
                {
                    <li>
                        @Html.ActionLink(Model.CategoriesList[j].CategoryName, "UserSummary", new { userID = Model.UserID, userName = Model.UserName, categoryID = Model.CategoriesList[j].CategoryID })
                    </li>
                }
            </ul>
        </p>
        @if (Model.AdminSummaryList.Count() < 1)
        {
            <p>@Model.UserName さんは未受験です。</p>
        }
        else
        {
            <table>
                <thead>
                    <tr>
                        <th>課題名</th>
                        <th>受験回数</th>
                        <th>正解数</th>
                        <th>受験日時</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.AdminSummaryList)
                    {

                        <tr>
                            <td>@item.SubjectNames</td>
                            <td>
                                @Html.ActionLink(item.ChallengeCount + "回目", "userDetails", new
                           {
                               userID = item.UserID,
                               subjectID = item.SubjectID,
                               challengeTimes = item.ChallengeCount,
                               subjectName = item.SubjectNames,
                               userName = item.UserName,
                               categoryID = Model.CategoryID
                           })
                            </td>
                            <td>@item.CorrectAnswers 問/@item.QuestionCount 問</td>
                            <td>@item.TestDay</td>
                        </tr>
                    }
                </tbody>
            </table>
        }

        <p>
            @Html.ActionLink("戻る", "/DisplayUsers")
        </p>
    </div>
</body>